<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Satellite Sky Viewer - Prototype Intro</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      color: #333;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      font-size: 28px;
    }
    img {
      width: 100%;
      margin-top: 20px;
      border: 1px solid #ccc;
    }
    #three-container {
      width: 100%;
      height: 400px;
      margin-top: 40px;
      border: 1px solid #ccc;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>

  <h1>Satellite Sky Viewer</h1>

  <p>
    This is a web app that shows you all the satellites and space junk flying above you in real-time. 
    You can move your phone around to look at the sky and see glowing dots where satellites are. 
    You can also switch between satellites and debris to explore what’s above Earth.
  </p>

  <p>
    I’m using the CelesTrak API to get live satellite data. With satellite.js, I calculate where each object is in the sky based on your location.
    Then I use Three.js to create a 3D sky that you can explore by moving your phone.
  </p>

  <p><strong>Tech stack:</strong></p>
  <ul>
    <li>HTML, CSS, JavaScript</li>
    <li>Three.js</li>
    <li>satellite.js</li>
    <li>CelesTrak API</li>
    <li>DeviceOrientation API</li>
  </ul>

  <img src="mockup.png" alt="App mockup">

  <h2>Try a simple 360° view:</h2>
  <div id="three-container"></div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.min.js"></script>
  <script>
    const container = document.getElementById('three-container');
    const scene = new THREE.Scene();

    const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
    camera.position.z = 5;

    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(container.clientWidth, container.clientHeight);
    container.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;

    // Create a big transparent sphere to act as the sky
    const skyGeometry = new THREE.SphereGeometry(20, 32, 32);
    const skyMaterial = new THREE.MeshBasicMaterial({ color: 0x000022, side: THREE.BackSide });
    const sky = new THREE.Mesh(skyGeometry, skyMaterial);
    scene.add(sky);

    // Add sample satellites
    function createSatellite(label, position) {
      const satGeometry = new THREE.SphereGeometry(0.1, 16, 16);
      const satMaterial = new THREE.MeshBasicMaterial({ color: 0xffaa00 });
      const sat = new THREE.Mesh(satGeometry, satMaterial);
      sat.position.copy(position);
      scene.add(sat);

      const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d');
      canvas.width = canvas.height = 256;
      context.fillStyle = 'white';
      context.font = '48px Arial';
      context.fillText(label, 50, 130);

      const texture = new THREE.CanvasTexture(canvas);
      const labelMaterial = new THREE.SpriteMaterial({ map: texture });
      const sprite = new THREE.Sprite(labelMaterial);
      sprite.scale.set(1, 1, 1);
      sprite.position.copy(position.clone().add(new THREE.Vector3(0, 0.3, 0)));
      scene.add(sprite);
    }

    createSatellite('X', new THREE.Vector3(2, 0, 0));
    createSatellite('Y', new THREE.Vector3(-1.5, 1, 1));
    createSatellite('Z', new THREE.Vector3(0, -2, -1.5));

    // Render loop
    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }

    animate();
  </script>

</body>
</html>
